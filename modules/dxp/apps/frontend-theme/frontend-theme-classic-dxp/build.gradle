apply plugin: "com.liferay.js.transpiler.base"

afterEvaluate {
	expandJSCompileDependencyClassictheme207 {
		destinationDir = new File(npmInstall.nodeModulesDir, "liferay-frontend-theme-classic-web")

		doLast {
			File packageJsonFile = new File(destinationDir, "package.json")

			packageJsonFile.text = '''\
{
	"liferayTheme": {
		"baseTheme": "styled",
		"distName": "classic-theme",
		"rubySass": false,
		"version": "7.1"
	},
	"main": "package.json",
	"name": "liferay-frontend-theme-classic-web"
}'''
		}
	}
}

dependencies {
	jsCompile group: "com.liferay.plugins", name: "classic-theme", version: "2.0.7"
}

npmInstall {
	finalizedBy expandJSCompileDependencies
}